<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>jQuery practice</title>

    <!-- Boostrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <!-- import jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style type="text/css">
        div.question-box {
            margin: 10px 0 20px 0;
        }
    </style>

    <script>
        function q1() {
            // Enter code here
            $("#index-q1").empty();
            $.ajax({
                type: "GET",
                url: "https://api.waqi.info/feed/seoul/?token=4cbb333bb8d8fe95ea1c6078b903ceffb360c6e4",
                data: {},
                success: function (response) {
                    const dates = response.data.forecast.daily.pm25;
                    dates.map((date) => {
                        if (date.avg > 70) {
                            $("#index-q1").append(`<li class="text-danger">${date.day}:${date.avg}✅</li>`);
                        } else {
                            $("#index-q1").append(`<li >${date.day}:${date.avg}✅</li>`);
                        }
                    });
                }
            })
        }
    </script>

</head>

<body>
    <div class="container py-4">

        <h1>Practicing the combination of jQuery+Ajax</h1>

        <hr />

        <div class="question-box">
            <h2>1. Using Seoul's OpenAPI (real-time air pollution rate)</h2>
            <p>Please indicate the air pollution rate in all districts</p>
            <p>Each time you click the update button, it should be erased and rewritten.</p>
            <button class="btn btn-primary mx-2  my-1" onclick="q1()">update</button>
            <h4 class="mt-2">Find AIR Quality Index Here(Seoul)</h4>
            <ul id="index-q1">
            </ul>
        </div>
    </div>
</body>

</html>